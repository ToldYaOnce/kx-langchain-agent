"use strict";
/**
 * Goal-Specific Instructions
 *
 * Smart instruction generators for each goal type.
 * These produce context-aware prompts that:
 * - Ask for multiple fields at once when appropriate
 * - Use company info (like businessHours) when relevant
 * - Handle partial responses intelligently
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDefaultInstruction = exports.getInjuriesInstruction = exports.getBodyMetricsInstruction = exports.getIdentityInstruction = exports.getSchedulingInstruction = exports.getContactInfoInstruction = void 0;
exports.getGoalInstruction = getGoalInstruction;
const contact_info_js_1 = require("./contact-info.js");
const scheduling_js_1 = require("./scheduling.js");
const identity_js_1 = require("./identity.js");
const body_metrics_js_1 = require("./body-metrics.js");
const injuries_js_1 = require("./injuries.js");
const default_js_1 = require("./default.js");
/**
 * Get smart instruction for a goal based on its type and current state
 */
function getGoalInstruction(context) {
    const goalIdLower = context.goalId.toLowerCase();
    const goalTypeLower = context.goalType.toLowerCase();
    // Route to specific instruction generator based on goal ID pattern or type
    // Contact Info (email, phone)
    if (goalIdLower.includes('contact_info') || goalIdLower.includes('contact-info')) {
        return (0, contact_info_js_1.getContactInfoInstruction)(context);
    }
    // Scheduling (preferredDate, preferredTime)
    if (goalIdLower.includes('schedule') || goalTypeLower === 'scheduling') {
        return (0, scheduling_js_1.getSchedulingInstruction)(context);
    }
    // Identity (firstName, lastName)
    if (goalIdLower.includes('identity') || goalIdLower.includes('name') || goalIdLower.includes('get_name')) {
        return (0, identity_js_1.getIdentityInstruction)(context);
    }
    // Body Metrics (height, weight, body fat)
    if (goalIdLower.includes('body_metrics') || goalIdLower.includes('body-metrics')) {
        return (0, body_metrics_js_1.getBodyMetricsInstruction)(context);
    }
    // Injuries & Limitations
    if (goalIdLower.includes('injuries') || goalIdLower.includes('limitations')) {
        return (0, injuries_js_1.getInjuriesInstruction)(context);
    }
    // Default fallback for other goals
    return (0, default_js_1.getDefaultInstruction)(context);
}
// Re-export individual generators for direct use if needed
var contact_info_js_2 = require("./contact-info.js");
Object.defineProperty(exports, "getContactInfoInstruction", { enumerable: true, get: function () { return contact_info_js_2.getContactInfoInstruction; } });
var scheduling_js_2 = require("./scheduling.js");
Object.defineProperty(exports, "getSchedulingInstruction", { enumerable: true, get: function () { return scheduling_js_2.getSchedulingInstruction; } });
var identity_js_2 = require("./identity.js");
Object.defineProperty(exports, "getIdentityInstruction", { enumerable: true, get: function () { return identity_js_2.getIdentityInstruction; } });
var body_metrics_js_2 = require("./body-metrics.js");
Object.defineProperty(exports, "getBodyMetricsInstruction", { enumerable: true, get: function () { return body_metrics_js_2.getBodyMetricsInstruction; } });
var injuries_js_2 = require("./injuries.js");
Object.defineProperty(exports, "getInjuriesInstruction", { enumerable: true, get: function () { return injuries_js_2.getInjuriesInstruction; } });
var default_js_2 = require("./default.js");
Object.defineProperty(exports, "getDefaultInstruction", { enumerable: true, get: function () { return default_js_2.getDefaultInstruction; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL2dvYWwtaW5zdHJ1Y3Rpb25zL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7R0FRRzs7O0FBbURILGdEQWlDQztBQWpGRCx1REFBOEQ7QUFDOUQsbURBQTJEO0FBQzNELCtDQUF1RDtBQUN2RCx1REFBOEQ7QUFDOUQsK0NBQXVEO0FBQ3ZELDZDQUFxRDtBQXdDckQ7O0dBRUc7QUFDSCxTQUFnQixrQkFBa0IsQ0FBQyxPQUErQjtJQUNoRSxNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2pELE1BQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7SUFFckQsMkVBQTJFO0lBRTNFLDhCQUE4QjtJQUM5QixJQUFJLFdBQVcsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLElBQUksV0FBVyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDO1FBQ2pGLE9BQU8sSUFBQSwyQ0FBeUIsRUFBQyxPQUFPLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBRUQsNENBQTRDO0lBQzVDLElBQUksV0FBVyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxhQUFhLEtBQUssWUFBWSxFQUFFLENBQUM7UUFDdkUsT0FBTyxJQUFBLHdDQUF3QixFQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxpQ0FBaUM7SUFDakMsSUFBSSxXQUFXLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksV0FBVyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDO1FBQ3pHLE9BQU8sSUFBQSxvQ0FBc0IsRUFBQyxPQUFPLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQsMENBQTBDO0lBQzFDLElBQUksV0FBVyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxXQUFXLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUM7UUFDakYsT0FBTyxJQUFBLDJDQUF5QixFQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFFRCx5QkFBeUI7SUFDekIsSUFBSSxXQUFXLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQztRQUM1RSxPQUFPLElBQUEsb0NBQXNCLEVBQUMsT0FBTyxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVELG1DQUFtQztJQUNuQyxPQUFPLElBQUEsa0NBQXFCLEVBQUMsT0FBTyxDQUFDLENBQUM7QUFDeEMsQ0FBQztBQUVELDJEQUEyRDtBQUMzRCxxREFBOEQ7QUFBckQsNEhBQUEseUJBQXlCLE9BQUE7QUFDbEMsaURBQTJEO0FBQWxELHlIQUFBLHdCQUF3QixPQUFBO0FBQ2pDLDZDQUF1RDtBQUE5QyxxSEFBQSxzQkFBc0IsT0FBQTtBQUMvQixxREFBOEQ7QUFBckQsNEhBQUEseUJBQXlCLE9BQUE7QUFDbEMsNkNBQXVEO0FBQTlDLHFIQUFBLHNCQUFzQixPQUFBO0FBQy9CLDJDQUFxRDtBQUE1QyxtSEFBQSxxQkFBcUIsT0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBHb2FsLVNwZWNpZmljIEluc3RydWN0aW9uc1xyXG4gKiBcclxuICogU21hcnQgaW5zdHJ1Y3Rpb24gZ2VuZXJhdG9ycyBmb3IgZWFjaCBnb2FsIHR5cGUuXHJcbiAqIFRoZXNlIHByb2R1Y2UgY29udGV4dC1hd2FyZSBwcm9tcHRzIHRoYXQ6XHJcbiAqIC0gQXNrIGZvciBtdWx0aXBsZSBmaWVsZHMgYXQgb25jZSB3aGVuIGFwcHJvcHJpYXRlXHJcbiAqIC0gVXNlIGNvbXBhbnkgaW5mbyAobGlrZSBidXNpbmVzc0hvdXJzKSB3aGVuIHJlbGV2YW50XHJcbiAqIC0gSGFuZGxlIHBhcnRpYWwgcmVzcG9uc2VzIGludGVsbGlnZW50bHlcclxuICovXHJcblxyXG5pbXBvcnQgdHlwZSB7IENvbXBhbnlJbmZvIH0gZnJvbSAnLi4vcGVyc29uYS1zZXJ2aWNlLmpzJztcclxuaW1wb3J0IHsgZ2V0Q29udGFjdEluZm9JbnN0cnVjdGlvbiB9IGZyb20gJy4vY29udGFjdC1pbmZvLmpzJztcclxuaW1wb3J0IHsgZ2V0U2NoZWR1bGluZ0luc3RydWN0aW9uIH0gZnJvbSAnLi9zY2hlZHVsaW5nLmpzJztcclxuaW1wb3J0IHsgZ2V0SWRlbnRpdHlJbnN0cnVjdGlvbiB9IGZyb20gJy4vaWRlbnRpdHkuanMnO1xyXG5pbXBvcnQgeyBnZXRCb2R5TWV0cmljc0luc3RydWN0aW9uIH0gZnJvbSAnLi9ib2R5LW1ldHJpY3MuanMnO1xyXG5pbXBvcnQgeyBnZXRJbmp1cmllc0luc3RydWN0aW9uIH0gZnJvbSAnLi9pbmp1cmllcy5qcyc7XHJcbmltcG9ydCB7IGdldERlZmF1bHRJbnN0cnVjdGlvbiB9IGZyb20gJy4vZGVmYXVsdC5qcyc7XHJcblxyXG4vKipcclxuICogQ29udGV4dCBwYXNzZWQgdG8gZ29hbCBpbnN0cnVjdGlvbiBnZW5lcmF0b3JzXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEdvYWxJbnN0cnVjdGlvbkNvbnRleHQge1xyXG4gIC8qKiBHb2FsIElEIChlLmcuLCBcImNvbGxlY3RfY29udGFjdF9pbmZvXzEyMzRcIikgKi9cclxuICBnb2FsSWQ6IHN0cmluZztcclxuICAvKiogR29hbCB0eXBlIChlLmcuLCBcImRhdGFfY29sbGVjdGlvblwiLCBcInNjaGVkdWxpbmdcIikgKi9cclxuICBnb2FsVHlwZTogc3RyaW5nO1xyXG4gIC8qKiBHb2FsIG5hbWUgZm9yIGRpc3BsYXkgKGUuZy4sIFwiQ29udGFjdCBJbmZvXCIpICovXHJcbiAgZ29hbE5hbWU6IHN0cmluZztcclxuICAvKiogRmllbGRzIHN0aWxsIG5lZWRlZCBmb3IgdGhpcyBnb2FsICovXHJcbiAgZmllbGRzTmVlZGVkOiBzdHJpbmdbXTtcclxuICAvKiogRmllbGRzIGFscmVhZHkgY2FwdHVyZWQgKHdpdGggdmFsdWVzKSAqL1xyXG4gIGZpZWxkc0NhcHR1cmVkOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG4gIC8qKiBDb21wYW55IGluZm8gKGZvciBidXNpbmVzc0hvdXJzLCBldGMuKSAqL1xyXG4gIGNvbXBhbnlJbmZvPzogQ29tcGFueUluZm87XHJcbiAgLyoqIENoYW5uZWwgc3RhdGUgKGZvciBhZGRpdGlvbmFsIGNvbnRleHQpICovXHJcbiAgY2hhbm5lbFN0YXRlPzogYW55O1xyXG4gIC8qKiBVc2VyJ3MgZmlyc3QgbmFtZSBpZiBrbm93biAqL1xyXG4gIHVzZXJOYW1lPzogc3RyaW5nO1xyXG4gIC8qKiBUaGUgdXNlcidzIGxhc3QgbWVzc2FnZSAoZm9yIHVuZGVyc3RhbmRpbmcgY29udGV4dCkgKi9cclxuICBsYXN0VXNlck1lc3NhZ2U/OiBzdHJpbmc7XHJcbiAgLyoqIERldGVjdGVkIGludGVudCBmcm9tIGludGVudCBkZXRlY3Rpb24gKGUuZy4sIFwib2JqZWN0aW9uXCIsIFwic2NoZWR1bGluZ1wiKSAqL1xyXG4gIGRldGVjdGVkSW50ZW50Pzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogUmVzdWx0IGZyb20gZ29hbCBpbnN0cnVjdGlvbiBnZW5lcmF0b3JcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgR29hbEluc3RydWN0aW9uIHtcclxuICAvKiogVGhlIGluc3RydWN0aW9uIHRvIGluamVjdCBpbnRvIHRoZSBMTE0gcHJvbXB0ICovXHJcbiAgaW5zdHJ1Y3Rpb246IHN0cmluZztcclxuICAvKiogT3B0aW9uYWw6IFNwZWNpZmljIGV4YW1wbGVzIHRvIGluY2x1ZGUgKi9cclxuICBleGFtcGxlcz86IHN0cmluZ1tdO1xyXG4gIC8qKiBPcHRpb25hbDogRmllbGRzIHRoaXMgaW5zdHJ1Y3Rpb24gaXMgYXNraW5nIGZvciAoZm9yIGxvZ2dpbmcpICovXHJcbiAgdGFyZ2V0RmllbGRzPzogc3RyaW5nW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgc21hcnQgaW5zdHJ1Y3Rpb24gZm9yIGEgZ29hbCBiYXNlZCBvbiBpdHMgdHlwZSBhbmQgY3VycmVudCBzdGF0ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEdvYWxJbnN0cnVjdGlvbihjb250ZXh0OiBHb2FsSW5zdHJ1Y3Rpb25Db250ZXh0KTogR29hbEluc3RydWN0aW9uIHtcclxuICBjb25zdCBnb2FsSWRMb3dlciA9IGNvbnRleHQuZ29hbElkLnRvTG93ZXJDYXNlKCk7XHJcbiAgY29uc3QgZ29hbFR5cGVMb3dlciA9IGNvbnRleHQuZ29hbFR5cGUudG9Mb3dlckNhc2UoKTtcclxuICBcclxuICAvLyBSb3V0ZSB0byBzcGVjaWZpYyBpbnN0cnVjdGlvbiBnZW5lcmF0b3IgYmFzZWQgb24gZ29hbCBJRCBwYXR0ZXJuIG9yIHR5cGVcclxuICBcclxuICAvLyBDb250YWN0IEluZm8gKGVtYWlsLCBwaG9uZSlcclxuICBpZiAoZ29hbElkTG93ZXIuaW5jbHVkZXMoJ2NvbnRhY3RfaW5mbycpIHx8IGdvYWxJZExvd2VyLmluY2x1ZGVzKCdjb250YWN0LWluZm8nKSkge1xyXG4gICAgcmV0dXJuIGdldENvbnRhY3RJbmZvSW5zdHJ1Y3Rpb24oY29udGV4dCk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFNjaGVkdWxpbmcgKHByZWZlcnJlZERhdGUsIHByZWZlcnJlZFRpbWUpXHJcbiAgaWYgKGdvYWxJZExvd2VyLmluY2x1ZGVzKCdzY2hlZHVsZScpIHx8IGdvYWxUeXBlTG93ZXIgPT09ICdzY2hlZHVsaW5nJykge1xyXG4gICAgcmV0dXJuIGdldFNjaGVkdWxpbmdJbnN0cnVjdGlvbihjb250ZXh0KTtcclxuICB9XHJcbiAgXHJcbiAgLy8gSWRlbnRpdHkgKGZpcnN0TmFtZSwgbGFzdE5hbWUpXHJcbiAgaWYgKGdvYWxJZExvd2VyLmluY2x1ZGVzKCdpZGVudGl0eScpIHx8IGdvYWxJZExvd2VyLmluY2x1ZGVzKCduYW1lJykgfHwgZ29hbElkTG93ZXIuaW5jbHVkZXMoJ2dldF9uYW1lJykpIHtcclxuICAgIHJldHVybiBnZXRJZGVudGl0eUluc3RydWN0aW9uKGNvbnRleHQpO1xyXG4gIH1cclxuICBcclxuICAvLyBCb2R5IE1ldHJpY3MgKGhlaWdodCwgd2VpZ2h0LCBib2R5IGZhdClcclxuICBpZiAoZ29hbElkTG93ZXIuaW5jbHVkZXMoJ2JvZHlfbWV0cmljcycpIHx8IGdvYWxJZExvd2VyLmluY2x1ZGVzKCdib2R5LW1ldHJpY3MnKSkge1xyXG4gICAgcmV0dXJuIGdldEJvZHlNZXRyaWNzSW5zdHJ1Y3Rpb24oY29udGV4dCk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEluanVyaWVzICYgTGltaXRhdGlvbnNcclxuICBpZiAoZ29hbElkTG93ZXIuaW5jbHVkZXMoJ2luanVyaWVzJykgfHwgZ29hbElkTG93ZXIuaW5jbHVkZXMoJ2xpbWl0YXRpb25zJykpIHtcclxuICAgIHJldHVybiBnZXRJbmp1cmllc0luc3RydWN0aW9uKGNvbnRleHQpO1xyXG4gIH1cclxuICBcclxuICAvLyBEZWZhdWx0IGZhbGxiYWNrIGZvciBvdGhlciBnb2Fsc1xyXG4gIHJldHVybiBnZXREZWZhdWx0SW5zdHJ1Y3Rpb24oY29udGV4dCk7XHJcbn1cclxuXHJcbi8vIFJlLWV4cG9ydCBpbmRpdmlkdWFsIGdlbmVyYXRvcnMgZm9yIGRpcmVjdCB1c2UgaWYgbmVlZGVkXHJcbmV4cG9ydCB7IGdldENvbnRhY3RJbmZvSW5zdHJ1Y3Rpb24gfSBmcm9tICcuL2NvbnRhY3QtaW5mby5qcyc7XHJcbmV4cG9ydCB7IGdldFNjaGVkdWxpbmdJbnN0cnVjdGlvbiB9IGZyb20gJy4vc2NoZWR1bGluZy5qcyc7XHJcbmV4cG9ydCB7IGdldElkZW50aXR5SW5zdHJ1Y3Rpb24gfSBmcm9tICcuL2lkZW50aXR5LmpzJztcclxuZXhwb3J0IHsgZ2V0Qm9keU1ldHJpY3NJbnN0cnVjdGlvbiB9IGZyb20gJy4vYm9keS1tZXRyaWNzLmpzJztcclxuZXhwb3J0IHsgZ2V0SW5qdXJpZXNJbnN0cnVjdGlvbiB9IGZyb20gJy4vaW5qdXJpZXMuanMnO1xyXG5leHBvcnQgeyBnZXREZWZhdWx0SW5zdHJ1Y3Rpb24gfSBmcm9tICcuL2RlZmF1bHQuanMnO1xyXG5cclxuIl19